<nav class="bg-[#9fba29]">
  <div class="flex items-center justify-between mx-auto max-w-screen-full">
    <div class="px-3 py-3 flex space-x-2">
      <div class="text-white text-3xl font-bold pr-3">Software Quotes</div>
      <div class="flex space-x-4">
        <button
          class="p-3 focus:bg-slate-200 px-2 rounded-xl py-1"
          hx-get="/home"
          hx-target="#body"
          hx-swap="innerHTML"
        >
          Home
        </button>
        <button class="p-3 focus:bg-slate-200 px-2 rounded-xl py-1">
          Authors
        </button>
        <button class="p-3 focus:bg-slate-200 px-2 rounded-xl py-1">
          Quotes
        </button>
        <button class="p-3 focus:bg-slate-200 px-2 rounded-xl py-1">
          My Quote
        </button>
      </div>
    </div>
    <div class="flex space-x-2 items-center px-5">
      <!-- This should have initial of the user and when clicked show logout button in drop down -->
      <button
        id="userButton"
        class="relative flex w-12 h-12 overflow-hidden rounded-full text-black"
      >
        <div class="inline-block items-center space-x-4">
          <span class="uppercase font-bold text-lg"><%= user.initials %></span>
          <svg
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            ></path>
          </svg>
        </div>
      </button>
    </div>
  </div>
</nav>

<!-- drop down menu -->
<div
  id="userDropdown"
  class="hidden absolute z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600 mt-10"
  style="right: 20px; top: 70px"
>
  <div class="p-2 text-center">
    <div class="text-lg font-bold uppercase"><%= user.initials %></div>
  </div>
  <div>
    <button
      hx-get="/update"
      hx-target="#display"
      hx-swap="innerHTML"
      class="block px-4 py-2 text-sm font-semibold text-gray-700 bg-white dark:bg-gray-800 rounded-md shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-500 ease-in-out border border-gray-200 dark:border-gray-700 w-full text-left"
    >
      Update
    </button>
  </div>
  <div>
    <a
      href="/auth/logout"
      class="block px-4 py-2 text-sm font-semibold text-gray-700 bg-white dark:bg-gray-800 rounded-md shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-500 ease-in-out border border-gray-200 dark:border-gray-700 w-full text-left"
    >
      Logout
    </a>
  </div>
</div>

<script>
  // Toggle dropdown menu
  document
    .getElementById("userButton")
    .addEventListener("click", function (event) {
      event.stopPropagation(); // Prevent click event from bubbling up
      var dropdown = document.getElementById("userDropdown");
      dropdown.classList.toggle("hidden");
    });

  // Close dropdown menu if clicked outside
  window.addEventListener("click", function (e) {
    var button = document.getElementById("userButton");
    var dropdown = document.getElementById("userDropdown");
    if (!button.contains(e.target) && !dropdown.contains(e.target)) {
      dropdown.classList.add("hidden");
    }
  });
</script>
